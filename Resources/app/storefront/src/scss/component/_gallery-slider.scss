$gallery-thumbnail-item-width: 46px;
$gallery-thumbnail-item-height: 46px;
$gallery-thumbnail-item-gutter: 10px;

$gallery-prev-outside-height-sm: 10px;
$gallery-prev-outside-height: 30px;
$gallery-nav-outside-padding: 20px;
$gallery-nav-button-background: rgba(255, 255, 255, 0.8);

$gallery-image-height-sm: 250px;
$gallery-image-height-md: 500px;
$gallery-image-height-lg: 800px;

.gallery-slider-item-container .gallery-slider-image,
.gallery-slider-thumbnails-image {
    width: 100%;
}

.gallery-slider-row {
    margin-bottom: 23px;
}

.gallery-slider-thumbnails-item-inner {
    padding: 0;
}

.gallery-slider-thumbnails-item {
    background: $white;
    opacity: 0.3;
    padding: 10px;

    .gallery-slider-thumbnails-item-inner {
        border: none;
        outline: none;
    }

    &.tns-nav-active {
        opacity: 1;

        .gallery-slider-thumbnails-image {
            outline: none;
        }
    }
}

.gallery-slider-controls {
    display: none;
}

.gallery-slider-controls-prev,
.gallery-slider-controls-next, {
    background: $gallery-nav-button-background;
}

.gallery-slider-controls-prev {
    &.is-nav-prev-outside {
        left: -$gallery-nav-outside-padding;
    }
}

.gallery-slider-controls-next {
    &.is-nav-next-outside {
        right: -$gallery-nav-outside-padding;
    }
}

.gallery-slider-thumbnails {
    &.is-underneath {
        margin-top: 30px;
    }
}

.gallery-slider-thumbnails-container {
    display: flex;
    align-items: center;
    justify-content: flex-start;

    &.is-underneath {
        .tns-outer {
            flex: 1;
            margin-left: 0;
            margin-right: 0;
            width: 100%;
            padding-right: 70px !important;
        }
    }

    .gallery-slider-controls {
        padding-top: 20px;
    }

    .tns-inner {
        justify-content: flex-start;
    }
}

.gallery-slider-thumbnails-col {
    &.is-left {
        @include media-breakpoint-up(lg) {
            padding-top: ($gallery-thumbnail-item-height + $gallery-thumbnail-item-gutter);
            padding-bottom: ($gallery-thumbnail-item-height + $gallery-thumbnail-item-gutter);

            .underneath-gallery-slider-controls {
                display: none;
            }
        }

        .gallery-slider-thumbnails-controls-prev,
        .gallery-slider-thumbnails-controls-next {
            width: $gallery-thumbnail-item-width;
            height: $gallery-thumbnail-item-height;
            background: $gallery-nav-button-background;
            opacity: 1;

            &[disabled] {
                .icon {
                    opacity: 0.2;
                }
            }
        }

        .gallery-slider-thumbnails-controls-prev {
            top: -($gallery-thumbnail-item-height + $gallery-thumbnail-item-gutter);
        }

        .gallery-slider-thumbnails-controls-next {
            bottom: -($gallery-thumbnail-item-height + $gallery-thumbnail-item-gutter);
            top: auto;
        }
    }

    &.is-underneath {
        .gallery-slider-thumbnails-controls-prev {
            right: 25px;
            left: unset;
        }

        .gallery-slider-thumbnails-controls-prev,
        .gallery-slider-thumbnails-controls-next {
            height: 70px;
        }
    }
}

// settings for product detail only
.product-detail-media {
    .gallery-slider-thumbnails-container {
        &.hide-thumbs {
            display: block;

            .gallery-slider-thumbnails {
                display: none;
            }

            .underneath-gallery-slider-controls {
                padding-top: $spacer-xl;
            }
        }

        .tns-controls {
            display: none;
        }
    }

    .gallery-slider-controls-prev {
        left: 50%;
        transform: translate(calc(-50% - #{$gallery-prev-outside-height}), 0%);

        @include media-breakpoint-up(md) {
            left: auto;
            right: 55px;
            transform: translate(0, calc(-50% + #{$gallery-prev-outside-height-sm}));
        }
    }

    .gallery-slider-controls-next {
        right: 50%;
        transform: translate(calc(50% + #{$gallery-prev-outside-height}), 0%);

        @include media-breakpoint-up(md) {
            right: 0;
            transform: translate(0, calc(-50% + #{$gallery-prev-outside-height-sm}));
        }
    }

    @include media-breakpoint-up(md) {
        .gallery-slider-controls-next,
        .gallery-slider-controls-prev {
            top: auto;
            bottom: 0;
        }
    }

}

@include media-breakpoint-down(lg) {
    .gallery-slider-row {
        &.is-loading {
            min-height: $gallery-image-height-sm;
            overflow: unset;
            height: auto;
        }
    }
}

@include media-breakpoint-down(md) {
    .product-detail-media {
        .gallery-slider-controls {
            &.hide-nav {
                display: none;
            }
        }
    }
}

@include media-breakpoint-up(md) {
    .gallery-slider-row {
        margin-bottom: 11px;
    }

    .gallery-slider-item {
        min-height: $gallery-image-height-md;
    }

    .gallery-slider-thumbnails-col {
        &.is-left {
            padding: 50px 0;

            .gallery-slider-thumbnails-item {
                border: none;
                outline: none;
                // need to use !important here to overwrite core settings which is using !important
                margin-bottom: $gallery-thumbnail-item-gutter !important;
            }

            .underneath-gallery-slider-controls {
                display: initial;
            }
        }
    }
}

@include media-breakpoint-up(lg) {
    .gallery-slider-row {
        margin-bottom: 46px;
    }
}

@include media-breakpoint-down(md) {
    .product-detail-media {
        padding-top: 20px;

        .gallery-slider-container {
            padding-bottom: 70px;
        }

        .gallery-slider-controls-next,
        .gallery-slider-controls-prev {
            top: auto;
            bottom: 0;
        }
    }
}

@include media-breakpoint-down(sm) {
    // override inline style on mobile devices
    .gallery-slider-item {
        &.is-cover,
        &.is-contain {
            min-height: $gallery-image-height-sm !important;
        }
    }
}

@include media-breakpoint-down(md) {
    .gallery-slider-single-image {
        &.is-cover,
        &.is-contain {
            min-height: $gallery-image-height-md !important;
        }
    }

    .product-detail-media {
        .gallery-slider-controls {
            display: block;
        }

        .gallery-slider-thumbnails-col {
            display: none;
        }
    }
}
