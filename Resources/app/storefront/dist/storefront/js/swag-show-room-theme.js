(window.webpackJsonp=window.webpackJsonp||[]).push([["swag-show-room-theme"],{JIYv:function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var n,i,o,a=s("FGIj"),r=s("nhVY"),l=s("ERap"),c=s("gHbT");class h extends a.a{init(){if(this._getForm(),!this._form)throw new Error("No form found for the plugin: ".concat(this.constructor.name));this._formFields=this._getFormFields(),this._formFields&&0!==this._formFields.length&&(this._assignDebouncedOnScrollEvent(),this._registerEvents())}_getForm(){this.el&&"FORM"===this.el.nodeName?this._form=this.el:this._form=this.el.closest("form")}_getFormFields(){const t=this._form.querySelectorAll("input, select, textarea"),e=this._form.id;if(!e)return t;const s=document.querySelectorAll('input[form="'.concat(e,'"], select[form="').concat(e,'"], textarea[form="').concat(e,'"]'));return s?h._mergeNodeList(t,s):t}_registerEvents(){l.a.iterate(this._formFields,(t=>{t.addEventListener("invalid",this._onInvalid.bind(this),!1)})),document.addEventListener("scroll",this._debouncedOnScroll,!1)}_assignDebouncedOnScrollEvent(){this._debouncedOnScroll=r.a.debounce(this._onScrollEnd.bind(this),this.options.scrollDebounceTime)}_onInvalid(t){t.target._ignoreValidityEvent?delete t.target._ignoreValidityEvent:(t.preventDefault(),t.stopPropagation(),this._firstInvalidElement||(this._getFirstInvalidFormFields(t),this._scrollToInvalidFormFields(),this.$emitter.publish("onInvalid")))}_getFirstInvalidFormFields(t){l.a.iterate(this._formFields,(e=>{e===t.target&&(this._firstInvalidElement=e)})),this.$emitter.publish("getFirstInvalidFormFields")}_onScrollEnd(){this._firstInvalidElement&&(this._firstInvalidElement._ignoreValidityEvent=!0,this._firstInvalidElement.getAttribute("data-skip-report-validity")||this._firstInvalidElement.reportValidity(!1),this._firstInvalidElement=!1),this.$emitter.publish("onScrollEnd")}_scrollToInvalidFormFields(){const t=this._getOffset();window.scrollY===t?this._debouncedOnScroll():this._shouldScroll()?window.scrollTo({top:t,behavior:"smooth"}):this._onScrollEnd(),this.$emitter.publish("scrollToInvalidFormFields")}_shouldScroll(){let t=!0;return l.a.iterate(this.options.noScrollClasses,(e=>{document.body.classList.contains(e)&&(t=!1)})),t}_getOffset(){let t=this._firstInvalidElement.getBoundingClientRect().top+window.scrollY-this.options.scrollOffset;const e=c.a.querySelector(document,this.options.fixedHeaderSelector,!1);if(e){t-=e.getBoundingClientRect().height}return t}static _mergeNodeList(t,e){return[...Array.from(t),...Array.from(e)]}}o={scrollDebounceTime:75,scrollOffset:15,noScrollClasses:["modal-open"],fixedHeaderSelector:"header.fixed-top"},(i="options")in(n=h)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o},Pd6r:function(t,e,s){"use strict";s.r(e);var n,i,o,a=s("FGIj"),r=s("gHbT");class l extends a.a{init(){this._registerEvents()}_registerEvents(){this._preventDropdownClose()}_preventDropdownClose(){const t=r.a.querySelector(this.el,this.options.dropdownSelector,!1);t&&t.addEventListener("click",(t=>{t.stopPropagation()}))}}o={dropdownSelector:".language-currency-menu-dropdown"},(i="options")in(n=l)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o;var c=s("wnMs"),h=s("xC+a");class d extends h.a{_openMenu(t){super._openMenu(t),window.eventEmitter.publish("openMenu")}}var u=function(){try{const t=window.PluginManager.getPlugin("SwagCustomizedProductsStepByStepWizard").get("class");class e extends t{init(){this.translations={btnPrev:r.a.getDataAttribute(this.el,"swag-customized-product-step-by-step-translation-btnprev"),btnNext:r.a.getDataAttribute(this.el,"swag-customized-product-step-by-step-translation-btnnext"),btnFinish:r.a.getDataAttribute(this.el,"swag-customized-product-step-by-step-translation-btnfinish"),required:r.a.getDataAttribute(this.el,"swag-customized-product-step-by-step-translation-required")},this.containerEl=r.a.querySelector(this.el,t.options.containerSelector),this.buyButton=r.a.querySelector(document,t.options.buyButtonSelector),this.pages=r.a.querySelectorAll(this.el,t.options.pageSelector),this.pages=this.collectPages(this.pages),this.pagesCount=this.pages.length,this.currentPage=1,this.setPageHeight(this.currentPage),this.configureElements=r.a.querySelectorAll(this.el,t.options.configureStepByStepSelector),this.navigationEntries=this.collectNavigationEntries(this.pages),this.navigationEl=r.a.querySelector(this.el,t.options.navigationSelector),this.navigationEl.innerHTML=this.renderNavigationSelection(),this.pagerEl=r.a.querySelector(this.el,t.options.pagerSelector),this.pagerEl.innerHTML=this.renderPager(),t.options.history.enabled&&(this.parseLocationHashOnAndJumpToPage(),this.updateHistory()),super._registerEvents()}renderPager(){return'\n            <div class="swag-customized-products-pager'.concat((()=>this.currentPage<=1||this.currentPage>=this.pagesCount)()?" d-none":"",'">\n                <div class="swag-customized-products-pager__page-number d-flex mr-2">\n                    ').concat(this.navigationEntries.map((t=>t.pageNum<this.currentPage-1?'\n                    <span class="swag-customized-products-pager prev-page d-flex justify-content-center align-items-center">\n                        <svg value="'.concat(t.pageNum,'"\n                            xmlns="http://www.w3.org/2000/svg"\n                            width="28"\n                            height="28" viewBox="0 0 24 24">\n                                <g class="nc-icon-wrapper">\n                                <path fill="#fff" fill-rule="evenodd" d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z"/>\n                            </g>\n                        </svg>\n                    </span>\n                '):t.pageNum===this.currentPage-1?'\n                <span class="swag-customized-products-pager current-page d-flex justify-content-center align-items-center">\n                    '.concat(t.pageNum,"\n                </span>\n            "):'\n                <span class="swag-customized-products-pager next-page d-flex justify-content-center align-items-center">\n                    '.concat(t.pageNum,"\n                </span>\n            "))),'\n                </div>\n\n                <button class="swag-customized-products-pager__button btn-prev btn btn-sm btn-outline-primary" tabindex="0"\n                        ').concat((()=>this.currentPage<=1?' disabled="true"':"")(),">\n                    ").concat(this.translations.btnPrev,'\n                </button>\n\n                <button class="swag-customized-products-pager__button btn-next btn btn-sm btn-primary ml-2" tabindex="0"\n                        ').concat((()=>this.currentPage-1>=this.pagesCount-2&&!this.isValidConfiguration()||this.currentPage>=this.pagesCount?' disabled="true"':"")(),">\n                    ").concat((()=>this.currentPage-1>=this.pagesCount-2?this.translations.btnFinish:this.translations.btnNext)(),"\n                </button>\n            </div>\n        ")}}return e}catch(t){}}();function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function g(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var f=function(){try{const t=window.PluginManager.getPlugin("SwagCmsExtensionsQuickview").get("class");class e extends t{}return g(e,"options",function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){g(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},t.options,{productBoxLinkSelector:["a.product-name","a.product-image-link",".swag-cms-extensions-quickview-listing-button-detail a.btn",".product-overview"].join(", ")})),e}catch(t){}}(),v=s("oQxm");class m extends v.a{_renderCounter(){this.el.innerHTML=this._wishlistStorage.getCurrentCounter()>0?'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g class="nc-icon-wrapper"><path fill="#26262F" fill-rule="evenodd" d="M7.707 12.293a1 1 0 1 0-1.414 1.414l3 3a1 1 0 0 0 1.414 0l7-7a1 1 0 1 0-1.414-1.414L10 14.586l-2.293-2.293z"/></g></svg>':""}}var b=s("WGrI"),_=s.n(b),w=s("pisI");class C extends w.a{}!function(t,e,s){e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s}(C,"options",_()(w.a.options,{weekNumbers:!1,allowInput:!1,disableMobile:!0}));var y=s("JIYv");class S extends y.a{_onInvalid(t){t.target._ignoreValidityEvent?delete t.target._ignoreValidityEvent:(t.stopPropagation(),this._firstInvalidElement||(this._getFirstInvalidFormFields(t),this._scrollToInvalidFormFields(),this.$emitter.publish("onInvalid")))}}const E=window.PluginManager;E.register("LanguageCurrency",l,"[data-language-currency]"),E.register("ShowroomCollapseColumn",c.a,"[data-showroom-collapse]"),E.override("OffcanvasMenu",d,"[data-offcanvas-menu]"),E.register("ShowroomCustomizedProductsStepByStepWizard",u,'*[data-swag-customized-product-step-by-step="true"]'),E.register("ShowroomCmsExtensionsQuickview",f,'[data-swag-cms-extensions-quickview="true"]'),E.override("DatePicker",C,"[data-date-picker]"),E.override("FormScrollToInvalidField",S,"form"),window.wishlistEnabled?E.override("WishlistWidget",m,"[data-wishlist-widget]"):E.register("WishlistWidget",m,"[data-wishlist-widget]")},ZxCW:function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return d}));var n,i,o,a=s("FGIj"),r=s("gHbT"),l=s("nnsc"),c=s("ERap"),h=s("p8Xf");class d extends a.a{init(){this._columns=this.el.querySelectorAll(this.options.collapseColumnSelector),this._registerEvents()}_registerEvents(){this._onViewportHasChanged(),document.addEventListener("Viewport/hasChanged",this._onViewportHasChanged.bind(this))}_onViewportHasChanged(){const t="click";c.a.iterate(this._columns,(e=>{const s=r.a.querySelector(e,this.options.collapseColumnTriggerSelector);s.removeEventListener(t,this._onClickCollapseTrigger),this._isInAllowedViewports()&&s.addEventListener(t,this._onClickCollapseTrigger.bind(this))})),this.$emitter.publish("onViewportHasChanged")}_onClickCollapseTrigger(e){const s=e.target,n=s.parentNode.querySelector(this.options.collapseColumnContentSelector),i=this.options.collapseShowClass;if(h.a.isActive("v6.5.0.0"))new bootstrap.Collapse(n,{toggle:!0}),n.addEventListener("shown.bs.collapse",(()=>{s.classList.add(i),this.$emitter.publish("onCollapseShown")})),n.addEventListener("hidden.bs.collapse",(()=>{s.classList.remove(i),this.$emitter.publish("onCollapseHidden")}));else{const e=t(n);e.collapse("toggle"),e.on("shown.bs.collapse",(()=>{s.classList.add(i),this.$emitter.publish("onCollapseShown")})),e.on("hidden.bs.collapse",(()=>{s.classList.remove(i),this.$emitter.publish("onCollapseHidden")}))}this.$emitter.publish("onClickCollapseTrigger")}_isInAllowedViewports(){return l.a.isXS()||l.a.isSM()}}o={collapseShowClass:"show",collapseColumnSelector:".js-footer-column",collapseColumnTriggerSelector:".js-collapse-footer-column-trigger",collapseColumnContentSelector:".js-footer-column-content"},(i="options")in(n=d)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}).call(this,s("UoTJ"))},bK22:function(t,e,s){"use strict";s.d(e,"a",(function(){return u})),s.d(e,"b",(function(){return p}));var n=s("41MI"),i=s("+F6M"),o=s("KeF5"),a=s("ERap"),r=s("p8Xf");const l="offcanvas",c="is-open",h=350;class d{constructor(){this.$emitter=new i.a}open(t,e,s,n,i,o,a){this._removeExistingOffCanvas();const r=this._createOffCanvas(s,o,a);this.setContent(t,n,i),this._openOffcanvas(r,e)}setContent(t,e,s){const n=this.getOffCanvas();n[0]&&(n[0].innerHTML=t,this._registerEvents(e,s))}setAdditionalClassName(t){this.getOffCanvas()[0].classList.add(t)}getOffCanvas(){return document.querySelectorAll(".".concat(l))}close(t){const e=this.getOffCanvas();r.a.isActive("v6.5.0.0")?a.a.iterate(e,(t=>{bootstrap.Offcanvas.getInstance(t).hide()})):(a.a.iterate(e,(t=>t.classList.remove(c))),setTimeout(this._removeExistingOffCanvas.bind(this),t),o.c.remove(t)),setTimeout((()=>{this.$emitter.publish("onCloseOffcanvas",{offCanvasContent:e})}),t)}goBackInHistory(){window.history.back()}exists(){return this.getOffCanvas().length>0}_openOffcanvas(t,e){r.a.isActive("v6.5.0.0")?setTimeout((()=>{d.bsOffcanvas.show(),window.history.pushState("offcanvas-open",""),"function"==typeof e&&e()}),75):setTimeout((()=>{o.c.create((()=>{t.classList.add(c),window.history.pushState("offcanvas-open",""),"function"==typeof e&&e()}))}),75)}_registerEvents(t,e){const s=n.a.isTouchDevice()?"touchend":"click";if(r.a.isActive("v6.5.0.0")){const s=this.getOffCanvas();t||(d.bsOffcanvas._backdrop._config.clickCallback=()=>{}),a.a.iterate(s,(t=>{const n=()=>{setTimeout((()=>{this._removeExistingOffCanvas(),this.$emitter.publish("onCloseOffcanvas",{offCanvasContent:s})}),e),t.removeEventListener("hide.bs.offcanvas",n)};t.addEventListener("hide.bs.offcanvas",n)}))}else if(t){const t=()=>{this.close(e),document.removeEventListener(o.a.ON_CLICK,t)};document.addEventListener(o.a.ON_CLICK,t)}window.addEventListener("popstate",this.close.bind(this,e),{once:!0});const i=document.querySelectorAll(".".concat("js-offcanvas-close"));a.a.iterate(i,(t=>t.addEventListener(s,this.close.bind(this,e))))}_removeExistingOffCanvas(){const t=this.getOffCanvas();return a.a.iterate(t,(t=>t.remove()))}_getPositionClass(t){return r.a.isActive("v6.5.0.0")?"left"===t?"offcanvas-start":"right"===t?"offcanvas-end":"offcanvas-".concat(t):"is-".concat(t)}_createOffCanvas(t,e,s){const n=document.createElement("div");if(n.classList.add(l),n.classList.add(this._getPositionClass(t)),!0===e&&n.classList.add("is-fullwidth"),s){const t=typeof s;if("string"===t)n.classList.add(s);else{if(!Array.isArray(s))throw new Error('The type "'.concat(t,'" is not supported. Please pass an array or a string.'));s.forEach((t=>{n.classList.add(t)}))}}return document.body.appendChild(n),r.a.isActive("v6.5.0.0")&&(d.bsOffcanvas=new bootstrap.Offcanvas(n)),n}}const u=Object.freeze(new d);class p{static open(t,e=null,s="left",n=!0,i=350,o=!1,a=""){u.open(t,e,s,n,i,o,a)}static setContent(t,e=!0,s=350){u.setContent(t,e,s)}static setAdditionalClassName(t){u.setAdditionalClassName(t)}static close(t=350){u.close(t)}static exists(){return u.exists()}static getOffCanvas(){return u.getOffCanvas()}static REMOVE_OFF_CANVAS_DELAY(){return h}}},oQxm:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var n,i,o,a=s("FGIj"),r=s("gHbT");class l extends a.a{init(){if(this._getWishlistStorage(),!this._wishlistStorage)throw new Error("No wishlist storage found");this._renderCounter(),this._registerEvents(),this._wishlistStorage.load()}_getWishlistStorage(){this._wishlistStorage=window.PluginManager.getPluginInstanceFromElement(this.el,"WishlistStorage")}_renderCounter(){this.options.showCounter&&(this.el.innerHTML=this._wishlistStorage.getCurrentCounter()||"")}_registerEvents(){this.$emitter.subscribe("Wishlist/onProductsLoaded",(()=>{this._renderCounter(),window.PluginManager.getPluginInstances("AddToWishlist").forEach((t=>{t.initStateClasses()}))})),this.$emitter.subscribe("Wishlist/onProductRemoved",(t=>{this._renderCounter(),this._reInitWishlistButton(t.detail.productId)})),this.$emitter.subscribe("Wishlist/onProductAdded",(t=>{this._renderCounter(),this._reInitWishlistButton(t.detail.productId)}));const t=r.a.querySelector(document,".cms-element-product-listing-wrapper",!1);if(t){window.PluginManager.getPluginInstanceFromElement(t,"Listing").$emitter.subscribe("Listing/afterRenderResponse",(()=>{window.PluginManager.getPluginInstances("AddToWishlist").forEach((t=>{t.initStateClasses()}))}))}}_reInitWishlistButton(t){const e=r.a.querySelectorAll(document,".product-wishlist-"+t,!1);e&&e.forEach((t=>{window.PluginManager.getPluginInstanceFromElement(t,"AddToWishlist").initStateClasses()}))}}o={showCounter:!0},(i="options")in(n=l)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o},pisI:function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var n=s("FGIj"),i=s("NiPh"),o=s("9biS"),a=s.n(o),r=s("gHbT");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class h extends n.a{init(){this.inputElement=this.el,this.options.enableTime&&this.options.noCalendar&&(this.options.minDate&&(this.options.minDate=this.convertTimeToTodayDateString(this.options.minDate)),this.options.maxDate&&(this.options.maxDate=this.convertTimeToTodayDateString(this.options.maxDate))),this.flatpickrElement=Object(i.a)(this.inputElement,function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},this.options,{},this.generateFlatpickrOptions())),this.registerEventListeners()}registerEventListeners(){null!==this.options.selectors.openButton&&(this.openButton=r.a.querySelector(document,this.options.selectors.openButton),this.openButton.addEventListener("click",this.onOpenButtonClick.bind(this))),null!==this.options.selectors.closeButton&&(this.closeButton=r.a.querySelector(document,this.options.selectors.closeButton),this.closeButton.addEventListener("click",this.onCloseButtonClick.bind(this))),null!==this.options.selectors.clearButton&&(this.clearButton=r.a.querySelector(document,this.options.selectors.clearButton),this.clearButton.addEventListener("click",this.onClearButtonClick.bind(this)),this.inputElement.addEventListener("change",this.onInputChange.bind(this)))}onOpenButtonClick(){this.flatpickrElement.open()}onCloseButtonClick(){this.flatpickrElement.close()}onClearButtonClick(){this.flatpickrElement.clear()}onInputChange(){this.clearButton.disabled=this.inputElement.value.length<=0}generateFlatpickrOptions(){let t="default";return"en"!==this.options.locale.substring(0,2)&&(t=this.options.locale.substring(0,2)),{altFormat:this.getAltFormat(t),locale:a.a[t],time_24hr:a.a[t].time_24hr}}getAltFormat(t){let e,s;switch(t){case"de":e="d. F Y",s="H:i";break;case"en":case"default":e="F J, Y",s="h:i K";break;default:e="Y-m-d",s="H:i"}return this.options.enableTime?s:e}convertTimeToTodayDateString(t){if(t.includes("T"))return t;const e=(new Date).toISOString().split("T")[0];return"".concat(e,"T").concat(t)}}c(h,"options",{dateFormat:"Y-m-dTH:i:S+00:00",altFormat:"j. F Y, H:i",altInput:!0,time_24hr:!0,enableTime:!0,noCalendar:!1,weekNumbers:!0,allowInput:!0,minDate:null,maxDate:null,locale:"default",selectors:{openButton:null,closeButton:null,clearButton:null}})},wnMs:function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return d}));var n,i,o,a=s("WGrI"),r=s.n(a),l=s("ZxCW"),c=s("p8Xf"),h=s("ERap");class d extends l.a{init(){this._columns=this.el.querySelectorAll(this.options.collapseColumnSelector),this._registerEvents(),document.$emitter.reset(),document.$emitter.subscribe("openMenu",(t=>{this._columns=document.querySelectorAll(this.options.collapseColumnSelector),this._registerEvents()}))}_isInAllowedViewports(){return!0}_onClickCollapseTrigger(e){const s=e.target,n=s.parentNode.parentNode.querySelector(this.options.collapseColumnContentSelector),i=this.options.collapseShowClass;if(c.a.isActive("V6_5_0_0")){new bootstrap.Collapse(n,{collapse:!0});const t=document.querySelectorAll(".product-detail-configurator-collapse .collapse.show");h.a.iterate(t,(t=>{new bootstrap.Collapse(t).hide()})),n.addEventListener("shown.bs.collapse",(()=>{s.classList.add(i),this.$emitter.publish("onCollapseShown")})),n.addEventListener("hidden.bs.collapse",(()=>{s.classList.remove(i),this.$emitter.publish("onCollapseHidden")}))}else{const e=t(n);e.collapse("toggle"),t(".product-detail-configurator-collapse .collapse").collapse("hide"),e.on("shown.bs.collapse",(()=>{s.classList.add(i),this.$emitter.publish("onCollapseShown")})),e.on("hidden.bs.collapse",(()=>{s.classList.remove(i),this.$emitter.publish("onCollapseHidden")})),this.$emitter.publish("onClickCollapseTrigger")}}}n=d,i="options",o=r()(l.a.options,{collapseColumnSelector:".js-collapse-column",collapseColumnTriggerSelector:".js-collapse-column-trigger",collapseColumnContentSelector:".js-column-content"}),i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}).call(this,s("UoTJ"))},"xC+a":function(t,e,s){"use strict";s.d(e,"a",(function(){return p}));var n,i,o,a=s("FGIj"),r=s("bK22"),l=s("5lm9"),c=s("k8s9"),h=s("gHbT"),d=s("ERap"),u=s("nnsc");class p extends a.a{init(){this._cache={},this._client=new c.a,this._content=l.a.getTemplate(),this._registerEvents()}_registerEvents(){if(this.el.removeEventListener(this.options.tiggerEvent,this._getLinkEventHandler.bind(this)),this.el.addEventListener(this.options.tiggerEvent,this._getLinkEventHandler.bind(this)),r.b.exists()){const t=r.b.getOffCanvas();d.a.iterate(t,(t=>{const e=t.querySelectorAll(this.options.linkSelector);d.a.iterate(e,(t=>{p._resetLoader(t),t.addEventListener("click",(e=>{this._getLinkEventHandler(e,t)}))}))}))}}_openMenu(t){const e=u.a.isXS();p._stopEvent(t),r.b.open(this._content,this._registerEvents.bind(this),this.options.position,void 0,void 0,e),r.b.setAdditionalClassName(this.options.additionalOffcanvasClass),this.$emitter.publish("openMenu")}_getLinkEventHandler(t,e){if(!e){const e=h.a.querySelector(document,this.options.initialContentSelector);return this._content=e.innerHTML,e.classList.contains("is-root")?this._cache[this.options.navigationUrl]=this._content:this._fetchMenu(this.options.navigationUrl),this._openMenu(t)}if(p._stopEvent(t),e.classList.contains(this.options.linkLoadingClass))return;p._setLoader(e);const s=h.a.getAttribute(e,"data-href",!1)||h.a.getAttribute(e,"href",!1);if(!s)return;let n=this.options.forwardAnimationType;(e.classList.contains(this.options.homeBtnClass)||e.classList.contains(this.options.backBtnClass))&&(n=this.options.backwardAnimationType),this.$emitter.publish("getLinkEventHandler"),this._fetchMenu(s,this._updateOverlay.bind(this,n))}static _setLoader(t){t.classList.add(this.options.linkLoadingClass);const e=t.querySelector(this.options.loadingIconSelector);e&&(e._linkIcon=e.innerHTML,e.innerHTML=l.a.getTemplate())}static _resetLoader(t){t.classList.remove(this.options.linkLoadingClass);const e=t.querySelector(this.options.loadingIconSelector);e&&e._linkIcon&&(e.innerHTML=e._linkIcon)}_updateOverlay(t,e){if(this._content=e,r.b.exists()){const s=p._getOffcanvasMenu();s||this._replaceOffcanvasContent(e),this._createOverlayElements();const n=p._getOverlayContent(s),i=p._getMenuContentFromResponse(e);this._replaceOffcanvasMenuContent(t,i,n),this._registerEvents()}this.$emitter.publish("updateOverlay")}_replaceOffcanvasMenuContent(t,e,s){t!==this.options.forwardAnimationType?t!==this.options.backwardAnimationType?(this._animateInstant(e,s),this.$emitter.publish("replaceOffcanvasMenuContent")):this._animateBackward(e,s):this._animateForward(e,s)}_animateInstant(t){this._overlay.innerHTML=t,this.$emitter.publish("animateInstant")}_animateForward(t,e){""===this._placeholder.innerHTML&&(this._placeholder.innerHTML=e),this._overlay.classList.remove(this.options.transitionClass),this._overlay.style.left="100%",this._overlay.innerHTML=t,setTimeout((()=>{this._overlay.classList.add(this.options.transitionClass),this._overlay.style.left="0%"}),1),this.$emitter.publish("animateForward")}_animateBackward(t,e){""===this._overlay.innerHTML&&(this._overlay.innerHTML=e),this._placeholder.innerHTML=t,this._overlay.classList.remove(this.options.transitionClass),this._overlay.style.left="0%",setTimeout((()=>{this._overlay.classList.add(this.options.transitionClass),this._overlay.style.left="100%"}),1),this.$emitter.publish("animateBackward")}static _getMenuContentFromResponse(t){const e=(new DOMParser).parseFromString(t,"text/html");return p._getOverlayContent(e)}static _getOverlayContent(t){if(!t)return"";const e=t.querySelector(this.options.overlayContentSelector);return e?e.innerHTML:""}_createOverlayElements(){const t=p._getOffcanvasMenu();t&&(this._placeholder=p._createPlaceholder(t),this._overlay=p._createNavigationOverlay(t)),this.$emitter.publish("createOverlayElements")}static _createNavigationOverlay(t){const e=p._getOffcanvas(),s=e.querySelector(this.options.overlayClass);if(s)return s;const n=document.createElement("div");return n.classList.add(this.options.overlayClass.substr(1)),n.style.minHeight="".concat(e.clientHeight,"px"),t.appendChild(n),n}static _createPlaceholder(t){const e=p._getOffcanvas(),s=e.querySelector(this.options.placeholderClass);if(s)return s;const n=document.createElement("div");return n.classList.add(this.options.placeholderClass.substr(1)),n.style.minHeight="".concat(e.clientHeight,"px"),t.appendChild(n),n}_fetchMenu(t,e){return!!t&&(this._cache[t]&&"function"==typeof e?e(this._cache[t]):(this.$emitter.publish("beforeFetchMenu"),void this._client.get(t,(s=>{this._cache[t]=s,"function"==typeof e&&e(s)}))))}_replaceOffcanvasContent(t){this._content=t,r.b.setContent(this._content),this._registerEvents(),this.$emitter.publish("replaceOffcanvasContent")}static _stopEvent(t){t.preventDefault(),t.stopImmediatePropagation()}static _getOffcanvas(){return r.b.getOffCanvas()[0]}static _getOffcanvasMenu(){return p._getOffcanvas().querySelector(this.options.menuSelector)}}n=p,i="options",o={navigationUrl:window.router["frontend.menu.offcanvas"],position:"left",tiggerEvent:"click",additionalOffcanvasClass:"navigation-offcanvas",linkSelector:".js-navigation-offcanvas-link",loadingIconSelector:".js-navigation-offcanvas-loading-icon",linkLoadingClass:"is-loading",menuSelector:".js-navigation-offcanvas",overlayContentSelector:".js-navigation-offcanvas-overlay-content",initialContentSelector:".js-navigation-offcanvas-initial-content",homeBtnClass:"is-home-link",backBtnClass:"is-back-link",transitionClass:"has-transition",overlayClass:".navigation-offcanvas-overlay",placeholderClass:".navigation-offcanvas-placeholder",forwardAnimationType:"forwards",backwardAnimationType:"backwards"},i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}},[["Pd6r","runtime","vendor-node","vendor-shared"]]]);