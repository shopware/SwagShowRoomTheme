"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["custom_apps_swagshowroomtheme_Resources_app_storefront_src_plugin_collapse-columns_collapse-c-0bcd74"],{704:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var i=r(285),s=r(206),n=r(46);class o{constructor(){this.previousViewport=null,this.currentViewport=o.getCurrentViewport(),this._registerEvents()}_registerEvents(){window.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this)),window.addEventListener("resize",n.Z.debounce(this._onResize.bind(this),200),{capture:!0,passive:!0})}_onDOMContentLoaded(){this._dispatchEvents()}_onResize(){this._viewportHasChanged(o.getCurrentViewport())&&(this._dispatchEvents(),this._dispatchViewportEvent("Viewport/hasChanged"))}_dispatchEvents(){o.isXS()?this._dispatchViewportEvent("Viewport/isXS"):o.isSM()?this._dispatchViewportEvent("Viewport/isSM"):o.isMD()?this._dispatchViewportEvent("Viewport/isMD"):o.isLG()?this._dispatchViewportEvent("Viewport/isLG"):o.isXL()?this._dispatchViewportEvent("Viewport/isXL"):o.isXXL()&&this._dispatchViewportEvent("Viewport/isXXL")}_viewportHasChanged(e){const t=e!==this.currentViewport;return t&&(this.previousViewport=this.currentViewport,this.currentViewport=e),t}_dispatchViewportEvent(e){document.$emitter.publish(e,{previousViewport:this.previousViewport})}static isXS(){return"XS"===o.getCurrentViewport()}static isSM(){return"SM"===o.getCurrentViewport()}static isMD(){return"MD"===o.getCurrentViewport()}static isLG(){return"LG"===o.getCurrentViewport()}static isXL(){return"XL"===o.getCurrentViewport()}static isXXL(){return"XXL"===o.getCurrentViewport()}static getCurrentViewport(){return window.getComputedStyle(document.documentElement,":before").content.replace(/['"]+/g,"").toUpperCase()}}var a,l,c,u=r(966);class p extends i.Z{init(){this._columns=this.el.querySelectorAll(this.options.collapseColumnSelector),this._registerEvents()}_registerEvents(){this._onViewportHasChanged(),document.addEventListener("Viewport/hasChanged",this._onViewportHasChanged.bind(this))}_onViewportHasChanged(){const e="click";u.Z.iterate(this._columns,(t=>{const r=s.Z.querySelector(t,this.options.collapseColumnTriggerSelector);r.removeEventListener(e,this._onClickCollapseTrigger),this._isInAllowedViewports()&&r.addEventListener(e,this._onClickCollapseTrigger.bind(this))})),this.$emitter.publish("onViewportHasChanged")}_onClickCollapseTrigger(e){const t=e.target,r=t.parentNode.querySelector(this.options.collapseColumnContentSelector),i=this.options.collapseShowClass;new bootstrap.Collapse(r,{toggle:!0}),r.addEventListener("shown.bs.collapse",(()=>{t.classList.add(i),this.$emitter.publish("onCollapseShown")})),r.addEventListener("hidden.bs.collapse",(()=>{t.classList.remove(i),this.$emitter.publish("onCollapseHidden")})),this.$emitter.publish("onClickCollapseTrigger")}_isInAllowedViewports(){return o.isXS()||o.isSM()}}a=p,c={collapseShowClass:"show",collapseColumnSelector:".js-footer-column",collapseColumnTriggerSelector:".js-collapse-footer-column-trigger",collapseColumnContentSelector:".js-footer-column-content"},(l=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(l="options"))in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c;var h=r(857),d=r.n(h);class w extends p{init(){this._columns=this.el.querySelectorAll(this.options.collapseColumnSelector),this._registerEvents(),document.$emitter.subscribe("openMenu",(e=>{this._columns=document.querySelectorAll(this.options.collapseColumnSelector),this._registerEvents()}))}_isInAllowedViewports(){return!0}_onClickCollapseTrigger(e){const t=e.target,r=t.parentNode.parentNode.querySelector(this.options.collapseColumnContentSelector),i=this.options.collapseShowClass;new bootstrap.Collapse(r,{collapse:!0});const s=document.querySelectorAll(".product-detail-configurator-collapse .collapse.show");u.Z.iterate(s,(e=>{new bootstrap.Collapse(e).hide()})),r.addEventListener("shown.bs.collapse",(()=>{t.classList.add(i),this.$emitter.publish("onCollapseShown")})),r.addEventListener("hidden.bs.collapse",(()=>{t.classList.remove(i),this.$emitter.publish("onCollapseHidden")}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(w,"options",d()(p.options,{collapseColumnSelector:".js-collapse-column",collapseColumnTriggerSelector:".js-collapse-column-trigger",collapseColumnContentSelector:".js-column-content"}))},46:(e,t,r)=>{r.d(t,{Z:()=>i});class i{static debounce(e,t,r=!1){let i;return(...s)=>{r&&!i&&setTimeout(e.bind(e,...s),0),clearTimeout(i),i=setTimeout(e.bind(e,...s),t)}}}},206:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(435);class s{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!s.isNode(e))throw new Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t,r=!0){if(r&&!1===s.hasAttribute(e,t))throw new Error(`The required property "${t}" does not exist!`);if("function"==typeof e.getAttribute)return e.getAttribute(t);if(r)throw new Error("This node doesn't support the getAttribute function!")}static getDataAttribute(e,t,r=!0){const n=t.replace(/^data(|-)/,""),o=i.Z.toLowerCamelCase(n,"-");if(!s.isNode(e)){if(r)throw new Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(r)throw new Error("This node doesn't support the dataset attribute!");return}const a=e.dataset[o];if(void 0===a){if(r)throw new Error(`The required data attribute "${t}" does not exist on ${e}!`);return a}return i.Z.parsePrimitive(a)}static querySelector(e,t,r=!0){if(r&&!s.isNode(e))throw new Error("The parent node is not a valid HTML Node!");const i=e.querySelector(t)||!1;if(r&&!1===i)throw new Error(`The required element "${t}" does not exist in parent node!`);return i}static querySelectorAll(e,t,r=!0){if(r&&!s.isNode(e))throw new Error("The parent node is not a valid HTML Node!");let i=e.querySelectorAll(t);if(0===i.length&&(i=!1),r&&!1===i)throw new Error(`At least one item of "${t}" must exist in parent node!`);return i}}},5:(e,t,r)=>{r.d(t,{Z:()=>i});class i{constructor(e=document){this._el=e,e.$emitter=this,this._listeners=[]}publish(e,t={},r=!1){const i=new CustomEvent(e,{detail:t,cancelable:r});return this.el.dispatchEvent(i),i}subscribe(e,t,r={}){const i=this,s=e.split(".");let n=r.scope?t.bind(r.scope):t;if(r.once&&!0===r.once){const t=n;n=function(r){i.unsubscribe(e),t(r)}}return this.el.addEventListener(s[0],n),this.listeners.push({splitEventName:s,opts:r,cb:n}),!0}unsubscribe(e){const t=e.split(".");return this.listeners=this.listeners.reduce(((e,r)=>r.splitEventName.sort().toString()===t.sort().toString()?(this.el.removeEventListener(r.splitEventName[0],r.cb),e):(e.push(r),e)),[]),!0}reset(){return this.listeners.forEach((e=>{this.el.removeEventListener(e.splitEventName[0],e.cb)})),this.listeners=[],!0}get el(){return this._el}set el(e){this._el=e}get listeners(){return this._listeners}set listeners(e){this._listeners=e}}},966:(e,t,r)=>{r.d(t,{Z:()=>i});class i{static iterate(e,t){if(e instanceof Map)return e.forEach(t);if(Array.isArray(e))return e.forEach(t);if(!(e instanceof FormData)){if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach((r=>{t(e[r],r)}));throw new Error(`The element type ${typeof e} is not iterable!`)}for(var r of e.entries())t(r[1],r[0])}}},435:(e,t,r)=>{r.d(t,{Z:()=>i});class i{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){const r=i.toUpperCamelCase(e,t);return i.lcFirst(r)}static toUpperCamelCase(e,t){if(!t)return i.ucFirst(e.toLowerCase());return e.split(t).map((e=>i.ucFirst(e.toLowerCase()))).join("")}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}},285:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(857),s=r.n(i),n=r(206),o=r(435),a=r(5);class l{constructor(e,t={},r=!1){if(!n.Z.isNode(e))throw new Error("There is no valid element given.");this.el=e,this.$emitter=new a.Z(this.el),this._pluginName=this._getPluginName(r),this.options=this._mergeOptions(t),this._initialized=!1,this._registerInstance(),this._init()}init(){throw new Error(`The "init" method for the plugin "${this._pluginName}" is not defined.`)}update(){}_init(){this._initialized||(this.init(),this._initialized=!0)}_update(){this._initialized&&this.update()}_mergeOptions(e){const t=o.Z.toDashCase(this._pluginName),r=n.Z.getDataAttribute(this.el,`data-${t}-config`,!1),i=n.Z.getAttribute(this.el,`data-${t}-options`,!1),a=[this.constructor.options,this.options,e];r&&a.push(window.PluginConfigManager.get(this._pluginName,r));try{i&&a.push(JSON.parse(i))}catch(e){throw console.error(this.el),new Error(`The data attribute "data-${t}-options" could not be parsed to json: ${e.message}`)}return s().all(a.filter((e=>e instanceof Object&&!(e instanceof Array))).map((e=>e||{})))}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this);window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}_getPluginName(e){return e||(e=this.constructor.name),e}}},857:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function s(e,t,r){return e.concat(t).map((function(e){return i(e,r)}))}function n(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(e){return!1}}function a(e,t,r){var s={};return r.isMergeableObject(e)&&n(e).forEach((function(t){s[t]=i(e[t],r)})),n(t).forEach((function(n){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(o(e,n)&&r.isMergeableObject(t[n])?s[n]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"==typeof r?r:l}(n,r)(e[n],t[n],r):s[n]=i(t[n],r))})),s}function l(e,r,n){(n=n||{}).arrayMerge=n.arrayMerge||s,n.isMergeableObject=n.isMergeableObject||t,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(r);return o===Array.isArray(e)?o?n.arrayMerge(e,r,n):a(e,r,n):i(r,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return l(e,r,t)}),{})};var c=l;e.exports=c}}]);