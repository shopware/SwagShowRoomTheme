{% sw_extends '@Storefront/storefront/page/account/addressbook/index.html.twig' %}

{% block page_account_main_content %}
    <div class="account-address">
        {% block page_account_address_welcome %}
            <div class="row account-welcome-container">
                {{ parent() }}

                {% block page_account_address_item_content_create %}
                    {{ parent() }}
                {% endblock %}
            </div>
        {% endblock %}

        {% block page_account_address_success_messages %}
            {{ parent() }}
        {% endblock %}

        {% block page_account_address_error_messages %}
            {{ parent() }}
        {% endblock %}

        {% block page_account_address_main %}
            {% set defaultBillingAddress = context.customer.defaultBillingAddress %}
            {% set defaultShippingAddress = context.customer.defaultShippingAddress %}

            {% block page_account_address_default %}
                <div class="default-address">
                    <div class="row">
                        {% block page_account_address_billing %}
                            {{ parent() }}
                        {% endblock %}

                        {% block page_account_address_shipping %}
                            {% if feature('v6.6.0.0') %}
                                <div class="address-card col-sm p-0 pt-4">
                                    {{ block('page_account_address_shipping_title') }}

                                    <div class="card shipping-address">
                                       {{ block('page_account_address_shipping_body') }}
                                    </div>
                                </div>
                            {% else %}
                                {{ parent() }}
                            {% endif %}
                        {% endblock %}
                    </div>
                </div>
            {% endblock %}

            {% block page_account_address_list %}
                {{ parent() }}
            {% endblock %}
        {% endblock %}
    </div>
{% endblock %}

{% block page_account_address_billing_body %}
    {% if feature('v6.6.0.0') %}
        {{ block('page_account_address_billing_address') }}

        <div class="address-actions pt-2">
            {% sw_include '@Storefront/storefront/page/account/addressbook/default-address-actions.html.twig' ignore missing with {
                'address': defaultBillingAddress
            } %}
        </div>
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}

