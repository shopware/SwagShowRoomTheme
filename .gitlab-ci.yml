variables:
    CYPRESS_SPEC: 'cypress/**/workflow/**/*.spec.js'
    PERCY_SPEC: 'cypress/**/visual/**/*.visual.spec.js'
    PLATFORM_BRANCH: "trunk"
    PERCY_TARGET_BRANCH: 'master'
    PLUGIN_DEPENDENCIES:
        value: >
            [
               { "name": "SwagCustomizedProducts", "url": "gitlab.shopware.com/shopware/6/services/customized-product", "branch": "master" },
               { "name": "SwagCmsExtensions", "url": "gitlab.shopware.com/shopware/6/services/cms-extensions", "branch": "master" }
            ]
        description: 'Plugin dependencies. Defined in json. Example: [{ "name": "SwagPayPal", "url": "gitlab.shopware.com/shopware/6/services/paypal", "branch": "master" }]'
    COMPOSER_DEPENDENCIES:
        value: >
            [
              "theiconic/name-parser",
              "amzn/amazon-pay-api-sdk-php:2.5.2"
            ]
        description: 'Additional composer dependencies. Defined in json. Example: ["theiconic/name-parser", "amzn/amazon-pay-api-sdk-php:2.5.2"]'

include:
    project: 'shopware/6/product/platform'
    ref: 'trunk'
    file: '.gitlab/templates/theme.yml'

default:
    after_script:
      - echo "Percy commit $PERCY_TARGET_BRANCH"
      - echo "Percy branch $PERCY_TARGET_COMMIT"
